<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Student Manager - Simple</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: #f4f7ff; font-family: system-ui, Arial, sans-serif; padding-top: 20px; }
    .card { border-radius: 10px; box-shadow: 0 6px 18px rgba(20,40,80,0.06); }
    .logo { width:40px;height:40px;background:#0d6efd;color:#fff;border-radius:8px;display:inline-grid;place-items:center;font-weight:700;margin-right:10px; }
    .small-muted { color:#6c757d; font-size:0.9rem; }
    table td, table th { vertical-align: middle; }
  </style>
</head>
<body>

<div class="container">
  <nav class="d-flex justify-content-between align-items-center mb-4">
    <div class="d-flex align-items-center">
      <div class="logo">SM</div>
      <div>
        <h5 class="mb-0">Student Management</h5>
        <div class="small-muted">Simple version</div>
      </div>
    </div>
    <button class="btn btn-outline-danger btn-sm" onclick="logout()">Logout</button>
  </nav>

  <div class="card p-3 mb-4">
    <form id="addForm" class="row g-2 align-items-end" onsubmit="addStudent(event)">
      <div class="col-sm-3">
        <label class="form-label">Name</label>
        <input id="name" class="form-control" required />
      </div>
      <div class="col-sm-2">
        <label class="form-label">Roll No</label>
        <input id="roll" class="form-control" required />
      </div>
      <div class="col-sm-2">
        <label class="form-label">Class</label>
        <input id="className" class="form-control" required />
      </div>
      <div class="col-sm-1">
        <label class="form-label">M1</label>
        <input id="m1" type="number" min="0" max="100" class="form-control" required />
      </div>
      <div class="col-sm-1">
        <label class="form-label">M2</label>
        <input id="m2" type="number" min="0" max="100" class="form-control" required />
      </div>
      <div class="col-sm-1">
        <label class="form-label">M3</label>
        <input id="m3" type="number" min="0" max="100" class="form-control" required />
      </div>
      <div class="col-sm-2">
        <button class="btn btn-primary w-100">Add Student</button>
      </div>
    </form>
  </div>

  <div class="card p-3">
    <h6 class="mb-3">Students List</h6>
    <div class="table-responsive">
      <table class="table table-bordered table-striped" id="studentsTable">
        <thead class="table-light">
          <tr>
            <th>#</th><th>Name</th><th>Roll No</th><th>Class</th><th>Percentage</th><th>Highest</th><th>Action</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
    <div class="small-muted">This is a minimal UI â€” no extra features.</div>
  </div>

</div>

<script>
  // Simple in-memory data (keeps while page is open)
  const students = [
    { name: 'gokul', roll: '101', className: '10A', marks: [85,90,78] },
    { name: 'vasan', roll: '102', className: '10A', marks: [72,88,80] },
    { name: 'bala', roll: '103', className: '10B', marks: [65,70,60] }
  ];

  function calcPercentage(marks) {
    const total = marks.reduce((a,b)=>a+b,0);
    return +(total / marks.length).toFixed(2);
  }
  function highestMark(marks) { return Math.max(...marks); }

  function render() {
    const tbody = document.querySelector('#studentsTable tbody');
    tbody.innerHTML = '';
    students.forEach((s, i) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${i+1}</td>
        <td>${escapeHtml(s.name)}</td>
        <td>${escapeHtml(s.roll)}</td>
        <td>${escapeHtml(s.className)}</td>
        <td>${calcPercentage(s.marks)}%</td>
        <td>${highestMark(s.marks)}</td>
        <td><button class="btn btn-sm btn-danger" onclick="removeStudent(${i})">Delete</button></td>
      `;
      tbody.appendChild(tr);
    });
  }

  function addStudent(e) {
    e.preventDefault();
    const name = document.getElementById('name').value.trim();
    const roll = document.getElementById('roll').value.trim();
    const className = document.getElementById('className').value.trim();
    const m1 = Number(document.getElementById('m1').value);
    const m2 = Number(document.getElementById('m2').value);
    const m3 = Number(document.getElementById('m3').value);
    students.push({ name, roll, className, marks: [m1,m2,m3] });
    document.getElementById('addForm').reset();
    render();
  }

  function removeStudent(i) {
    if (!confirm('Delete this student?')) return;
    students.splice(i,1);
    render();
  }

  function escapeHtml(s) {
    return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
  }

  function logout() { window.location.href = 'index.html'; }

  // initial render
  render();
</script>

</body>
</html>
